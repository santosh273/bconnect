webpackJsonp([10],{687:function(l,n,e){"use strict";function t(l){return o["ɵvid"](0,[o["ɵpid"](0,M.a,[k.a,E.c]),(l()(),o["ɵted"](-1,null,["\n"])),(l()(),o["ɵeld"](2,0,null,null,10,"ion-header",[],null,null,null,null,null)),o["ɵdid"](3,16384,null,0,I.a,[x.a,o.ElementRef,o.Renderer,[2,F.a]],null,null),(l()(),o["ɵted"](-1,null,["\n\n  "])),(l()(),o["ɵeld"](5,0,null,null,6,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,L.b,L.a)),o["ɵdid"](6,49152,null,0,T.a,[A.a,[2,F.a],[2,S.a],x.a,o.ElementRef,o.Renderer],null,null),(l()(),o["ɵted"](-1,3,["\n    "])),(l()(),o["ɵeld"](8,0,null,3,2,"ion-title",[],null,null,null,w.b,w.a)),o["ɵdid"](9,49152,null,0,O.a,[x.a,o.ElementRef,o.Renderer,[2,_.a],[2,T.a]],null,null),(l()(),o["ɵted"](-1,0,["Update Your Profile"])),(l()(),o["ɵted"](-1,3,["\n  "])),(l()(),o["ɵted"](-1,null,["\n\n"])),(l()(),o["ɵted"](-1,null,["\n\n\n"])),(l()(),o["ɵeld"](14,0,null,null,86,"ion-content",[["class","bg"],["padding",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,D.b,D.a)),o["ɵdid"](15,4374528,null,0,j.a,[x.a,q.a,U.a,o.ElementRef,o.Renderer,A.a,z.a,o.NgZone,[2,F.a],[2,S.a]],null,null),(l()(),o["ɵted"](-1,1,["\n    "])),(l()(),o["ɵeld"](17,0,null,1,7,"div",[["text-center",""]],null,null,null,null,null)),(l()(),o["ɵted"](-1,null,["\n        "])),(l()(),o["ɵeld"](19,0,null,null,1,"img",[["style","margin:3px;height:160px;width:160px;border-radius: 50%;border: 2px solid rgb(250, 19, 219);"]],[[8,"src",4]],null,null,null,null)),o["ɵppd"](20,1),(l()(),o["ɵted"](-1,null,["\n        "])),(l()(),o["ɵeld"](22,0,null,null,1,"ion-icon",[["class","camera"],["name","md-camera"],["role","img"]],[[2,"hide",null]],[[null,"click"]],function(l,n,e){var t=!0;if("click"===n){t=!1!==l.component.presentActionSheet()&&t}return t},null,null)),o["ɵdid"](23,147456,null,0,V.a,[x.a,o.ElementRef,o.Renderer],{name:[0,"name"]},null),(l()(),o["ɵted"](-1,null,["\n    "])),(l()(),o["ɵted"](-1,1,["\n    "])),(l()(),o["ɵeld"](26,0,null,1,0,"br",[],null,null,null,null,null)),(l()(),o["ɵted"](-1,1,["\n    "])),(l()(),o["ɵeld"](28,0,null,1,0,"br",[],null,null,null,null,null)),(l()(),o["ɵted"](-1,1,["\n    "])),(l()(),o["ɵeld"](30,0,null,1,0,"br",[],null,null,null,null,null)),(l()(),o["ɵted"](-1,1,["\n    "])),(l()(),o["ɵeld"](32,0,null,1,16,"ion-item",[["class","item item-block"],["no-lines",""]],null,null,null,B.b,B.a)),o["ɵdid"](33,1097728,null,3,Y.a,[J.a,x.a,o.ElementRef,o.Renderer,[2,H.a]],null,null),o["ɵqud"](335544320,1,{contentLabel:0}),o["ɵqud"](603979776,2,{_buttons:1}),o["ɵqud"](603979776,3,{_icons:1}),o["ɵdid"](37,16384,null,0,Z.a,[],null,null),(l()(),o["ɵted"](-1,2,["\n        "])),(l()(),o["ɵeld"](39,0,null,1,2,"ion-label",[["color","dark"],["stacked",""],["style","font-size: 1.3em;padding-bottom: 8px"]],null,null,null,null,null)),o["ɵdid"](40,16384,[[1,4]],0,G.a,[x.a,o.ElementRef,o.Renderer,[8,null],[8,""],[8,null],[8,null]],{color:[0,"color"]},null),(l()(),o["ɵted"](-1,null,["Email"])),(l()(),o["ɵted"](-1,2,["\n        "])),(l()(),o["ɵeld"](43,0,null,3,4,"ion-input",[["class","inpt"],["placeholder","Email"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(l,n,e){var t=!0;if("ngModelChange"===n){t=!1!==(l.component.email=e)&&t}return t},K.b,K.a)),o["ɵdid"](44,671744,null,0,Q.NgModel,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),o["ɵprd"](2048,null,Q.NgControl,null,[Q.NgModel]),o["ɵdid"](46,16384,null,0,Q.NgControlStatus,[Q.NgControl],null,null),o["ɵdid"](47,5423104,null,0,W.a,[x.a,q.a,J.a,A.a,o.ElementRef,o.Renderer,[2,j.a],[2,Y.a],[2,Q.NgControl],U.a],{type:[0,"type"],placeholder:[1,"placeholder"]},null),(l()(),o["ɵted"](-1,2,["\n    "])),(l()(),o["ɵted"](-1,1,["\n   \n    "])),(l()(),o["ɵeld"](50,0,null,1,16,"ion-item",[["class","item item-block"],["no-lines",""]],null,null,null,B.b,B.a)),o["ɵdid"](51,1097728,null,3,Y.a,[J.a,x.a,o.ElementRef,o.Renderer,[2,H.a]],null,null),o["ɵqud"](335544320,4,{contentLabel:0}),o["ɵqud"](603979776,5,{_buttons:1}),o["ɵqud"](603979776,6,{_icons:1}),o["ɵdid"](55,16384,null,0,Z.a,[],null,null),(l()(),o["ɵted"](-1,2,["\n        "])),(l()(),o["ɵeld"](57,0,null,1,2,"ion-label",[["color","dark"],["stacked",""],["style","font-size: 1.3em;padding-bottom: 8px"]],null,null,null,null,null)),o["ɵdid"](58,16384,[[4,4]],0,G.a,[x.a,o.ElementRef,o.Renderer,[8,null],[8,""],[8,null],[8,null]],{color:[0,"color"]},null),(l()(),o["ɵted"](-1,null,["Mailing Address"])),(l()(),o["ɵted"](-1,2,["\n        "])),(l()(),o["ɵeld"](61,0,null,3,4,"ion-input",[["class","inpt"],["placeholder","Address"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(l,n,e){var t=!0;if("ngModelChange"===n){t=!1!==(l.component.address=e)&&t}return t},K.b,K.a)),o["ɵdid"](62,671744,null,0,Q.NgModel,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),o["ɵprd"](2048,null,Q.NgControl,null,[Q.NgModel]),o["ɵdid"](64,16384,null,0,Q.NgControlStatus,[Q.NgControl],null,null),o["ɵdid"](65,5423104,null,0,W.a,[x.a,q.a,J.a,A.a,o.ElementRef,o.Renderer,[2,j.a],[2,Y.a],[2,Q.NgControl],U.a],{type:[0,"type"],placeholder:[1,"placeholder"]},null),(l()(),o["ɵted"](-1,2,["\n    "])),(l()(),o["ɵted"](-1,1,["\n\n    "])),(l()(),o["ɵeld"](68,0,null,1,16,"ion-item",[["class","item item-block"],["no-lines",""]],null,null,null,B.b,B.a)),o["ɵdid"](69,1097728,null,3,Y.a,[J.a,x.a,o.ElementRef,o.Renderer,[2,H.a]],null,null),o["ɵqud"](335544320,7,{contentLabel:0}),o["ɵqud"](603979776,8,{_buttons:1}),o["ɵqud"](603979776,9,{_icons:1}),o["ɵdid"](73,16384,null,0,Z.a,[],null,null),(l()(),o["ɵted"](-1,2,["\n      "])),(l()(),o["ɵeld"](75,0,null,1,2,"ion-label",[["color","dark"],["stacked",""],["style","font-size: 1.3em;padding-bottom: 8px"]],null,null,null,null,null)),o["ɵdid"](76,16384,[[7,4]],0,G.a,[x.a,o.ElementRef,o.Renderer,[8,null],[8,""],[8,null],[8,null]],{color:[0,"color"]},null),(l()(),o["ɵted"](-1,null,["Phone Number"])),(l()(),o["ɵted"](-1,2,["\n      "])),(l()(),o["ɵeld"](79,0,null,3,4,"ion-input",[["class","inpt"],["placeholder","Phone Number"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(l,n,e){var t=!0;if("ngModelChange"===n){t=!1!==(l.component.phoneno=e)&&t}return t},K.b,K.a)),o["ɵdid"](80,671744,null,0,Q.NgModel,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),o["ɵprd"](2048,null,Q.NgControl,null,[Q.NgModel]),o["ɵdid"](82,16384,null,0,Q.NgControlStatus,[Q.NgControl],null,null),o["ɵdid"](83,5423104,null,0,W.a,[x.a,q.a,J.a,A.a,o.ElementRef,o.Renderer,[2,j.a],[2,Y.a],[2,Q.NgControl],U.a],{type:[0,"type"],placeholder:[1,"placeholder"]},null),(l()(),o["ɵted"](-1,2,["\n  "])),(l()(),o["ɵted"](-1,1,["\n\n    "])),(l()(),o["ɵeld"](86,0,null,1,0,"br",[],null,null,null,null,null)),(l()(),o["ɵted"](-1,1,["\n    "])),(l()(),o["ɵeld"](88,0,null,1,0,"br",[],null,null,null,null,null)),(l()(),o["ɵted"](-1,1,["\n    "])),(l()(),o["ɵeld"](90,0,null,1,0,"br",[],null,null,null,null,null)),(l()(),o["ɵted"](-1,1,["\n    "])),(l()(),o["ɵeld"](92,0,null,1,0,"br",[],null,null,null,null,null)),(l()(),o["ɵted"](-1,1,["\n    "])),(l()(),o["ɵeld"](94,0,null,1,5,"div",[["text-center",""]],null,null,null,null,null)),(l()(),o["ɵted"](-1,null,["\n        "])),(l()(),o["ɵeld"](96,0,null,null,2,"button",[["class","btn"],["ion-button",""]],null,[[null,"click"]],function(l,n,e){var t=!0;if("click"===n){t=!1!==l.component.updateAll()&&t}return t},X.b,X.a)),o["ɵdid"](97,1097728,null,0,$.a,[[8,""],x.a,o.ElementRef,o.Renderer],null,null),(l()(),o["ɵted"](-1,0,["Update"])),(l()(),o["ɵted"](-1,null,["\n    "])),(l()(),o["ɵted"](-1,1,["\n"])),(l()(),o["ɵted"](-1,null,["\n"]))],function(l,n){var e=n.component;l(n,23,0,"md-camera");l(n,40,0,"dark");l(n,44,0,e.email);l(n,47,0,"email","Email");l(n,58,0,"dark");l(n,62,0,e.address);l(n,65,0,"text","Address");l(n,76,0,"dark");l(n,80,0,e.phoneno);l(n,83,0,"text","Phone Number")},function(l,n){var e=n.component;l(n,5,0,o["ɵnov"](n,6)._hidden,o["ɵnov"](n,6)._sbPadding);l(n,14,0,o["ɵnov"](n,15).statusbarPadding,o["ɵnov"](n,15)._hasRefresher);l(n,19,0,o["ɵunv"](n,19,0,l(n,20,0,o["ɵnov"](n,0),e.profileImg)));l(n,22,0,o["ɵnov"](n,23)._hidden);l(n,43,0,o["ɵnov"](n,46).ngClassUntouched,o["ɵnov"](n,46).ngClassTouched,o["ɵnov"](n,46).ngClassPristine,o["ɵnov"](n,46).ngClassDirty,o["ɵnov"](n,46).ngClassValid,o["ɵnov"](n,46).ngClassInvalid,o["ɵnov"](n,46).ngClassPending);l(n,61,0,o["ɵnov"](n,64).ngClassUntouched,o["ɵnov"](n,64).ngClassTouched,o["ɵnov"](n,64).ngClassPristine,o["ɵnov"](n,64).ngClassDirty,o["ɵnov"](n,64).ngClassValid,o["ɵnov"](n,64).ngClassInvalid,o["ɵnov"](n,64).ngClassPending);l(n,79,0,o["ɵnov"](n,82).ngClassUntouched,o["ɵnov"](n,82).ngClassTouched,o["ɵnov"](n,82).ngClassPristine,o["ɵnov"](n,82).ngClassDirty,o["ɵnov"](n,82).ngClassValid,o["ɵnov"](n,82).ngClassInvalid,o["ɵnov"](n,82).ngClassPending)})}Object.defineProperty(n,"__esModule",{value:!0});var o=e(1),a=(e(0),e(32),e(109)),u=e(44),i=e(110),d=e(111),r=e(108),s=e(54),c=e(79),p=function(){function l(l,n,e,t,o,a,u,i,d,r,s,c){this.file=l,this.loadingCtrl=n,this.filePath=e,this.actionSheetCtrl=t,this.toastCtrl=o,this.platform=a,this.http=u,this.camera=i,this.base64=d,this.alertCtrl=r,this.navCtrl=s,this.navParams=c,this.address="",this.email="",this.phoneno="",this.attach="-",this.customerNo="",this.profileImg="assets/imgs/nophoto.jpg",this.email=c.get("email"),this.address=c.get("address"),this.phoneno=c.get("phoneno"),this.customerNo=c.get("customerNo")}return l.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad ProfilePage")},l.prototype.presentActionSheet=function(){var l=this;this.actionSheetCtrl.create({title:"Select Image Source",buttons:[{text:"Load from Library",handler:function(){l.takePicture(l.camera.PictureSourceType.PHOTOLIBRARY)}},{text:"Use Camera",handler:function(){l.takePicture(l.camera.PictureSourceType.CAMERA)}},{text:"Cancel",role:"cancel"}]}).present()},l.prototype.takePicture=function(l){var n=this;this.camera.getPicture({quality:60,sourceType:l,saveToPhotoAlbum:!1,correctOrientation:!0}).then(function(e){if(n.platform.is("android")&&l===n.camera.PictureSourceType.PHOTOLIBRARY)n.filePath.resolveNativePath(e).then(function(l){console.log("img:",e),console.log("path:",l);var t=l.substr(0,l.lastIndexOf("/")+1),o=e.substring(e.lastIndexOf("/")+1,e.lastIndexOf("?"));n.copyFileToLocalDir(t,o,n.createFileName())});else{var t=e.substr(e.lastIndexOf("/")+1),o=e.substr(0,e.lastIndexOf("/")+1);n.copyFileToLocalDir(o,t,n.createFileName())}},function(l){n.presentToast("Error while selecting image.")})},l.prototype.createFileName=function(){return(new Date).getTime()+".jpg"},l.prototype.copyFileToLocalDir=function(l,n,e){var t=this;this.file.copyFile(l,n,cordova.file.dataDirectory,e).then(function(l){t.lastImage=e,t.converttobase(t.pathForImage(t.lastImage))},function(l){t.presentToast("Error while storing file.")})},l.prototype.presentToast=function(l){this.toastCtrl.create({message:l,duration:3e3,position:"top"}).present()},l.prototype.pathForImage=function(l){return null===l?"":cordova.file.dataDirectory+l},l.prototype.uploadString=function(){var l=this;return new Promise(function(n){var e=l.loadingCtrl.create({content:"wait please..."});e.present();var t=l.profileImg.split("base64,"),o=t[1];console.log(t),console.log(o);var a=c.a.URL+"SavePng",u=new s.d({Accept:"application/json","Content-Type":"application/json"}),i=new s.g({headers:u}),d=JSON.stringify({Name:o});return new Promise(function(t,o){l.http.post(a,d,i).toPromise().then(function(o){console.log("API Response : ",o.json()),l.attach=o.json(),e.dismiss(),t(o.json()),n(!0)}).catch(function(l){console.error("API Error : ",l.status),console.error("API Error : ",JSON.stringify(l)),o(l.json())})})})},l.prototype.converttobase=function(l){var n=this,e=this.loadingCtrl.create({content:"wait please..."});e.present(),this.base64.encodeFile(l).then(function(l){n.profileImg=l,e.dismiss()},function(l){console.log(l)})},l.prototype.updateProfile=function(){var l=this.loadingCtrl.create({content:"Please wait..."});l.present(),console.log("lok1"),this.http.get(c.a.URL+"/profileupdate/"+this.address+"/"+this.email+"/"+this.attach+"/"+this.customerNo+"/"+this.phoneno).map(function(l){return l.json()}).subscribe(function(n){console.log("lok2"),l.dismiss(),alert("Your Profile has been update ! Please go back and click refresh button"),console.log("profile updated",n)},function(n){l.dismiss(),console.log(n)})},l.prototype.updateAll=function(){var l=this;""!=this.email&&""!=this.address?"assets/imgs/nophoto.jpg"==this.profileImg?this.updateProfile():this.uploadString().then(function(n){console.log("lok"),l.updateProfile()}):alert("Please fill relevant fields.")},l}(),g=e(225),m=function(){return function(){}}(),h=e(213),f=e(214),v=e(215),b=e(216),C=e(217),y=e(218),P=e(219),R=e(220),N=e(221),M=e(229),k=e(29),E=e(45),I=e(53),x=e(3),F=e(7),L=e(70),T=e(36),A=e(8),S=e(20),w=e(163),O=e(73),_=e(38),D=e(52),j=e(25),q=e(5),U=e(9),z=e(24),V=e(33),B=e(63),Y=e(21),J=e(18),H=e(39),Z=e(48),G=e(64),K=e(222),Q=e(19),W=e(81),X=e(26),$=e(17),ll=e(62),nl=e(113),el=e(82),tl=e(74),ol=e(15),al=o["ɵcrt"]({encapsulation:2,styles:[],data:{}}),ul=o["ɵccf"]("page-profile",p,function(l){return o["ɵvid"](0,[(l()(),o["ɵeld"](0,0,null,null,1,"page-profile",[],null,null,null,t,al)),o["ɵdid"](1,49152,null,0,p,[r.a,ll.a,d.a,nl.a,el.a,q.a,u.a,i.a,a.a,tl.a,S.a,ol.a],null,null)],null,null)},{},{},[]),il=e(14),dl=e(162),rl=e(61);e.d(n,"ProfilePageModuleNgFactory",function(){return sl});var sl=o["ɵcmf"](m,[],function(l){return o["ɵmod"]([o["ɵmpd"](512,o.ComponentFactoryResolver,o["ɵCodegenComponentFactoryResolver"],[[8,[h.a,f.a,v.a,b.a,C.a,y.a,P.a,R.a,N.a,ul]],[3,o.ComponentFactoryResolver],o.NgModuleRef]),o["ɵmpd"](4608,il.NgLocalization,il.NgLocaleLocalization,[o.LOCALE_ID,[2,il["ɵa"]]]),o["ɵmpd"](4608,Q["ɵi"],Q["ɵi"],[]),o["ɵmpd"](4608,Q.FormBuilder,Q.FormBuilder,[]),o["ɵmpd"](512,g.a,g.a,[]),o["ɵmpd"](512,il.CommonModule,il.CommonModule,[]),o["ɵmpd"](512,Q["ɵba"],Q["ɵba"],[]),o["ɵmpd"](512,Q.FormsModule,Q.FormsModule,[]),o["ɵmpd"](512,Q.ReactiveFormsModule,Q.ReactiveFormsModule,[]),o["ɵmpd"](512,dl.a,dl.a,[]),o["ɵmpd"](512,dl.b,dl.b,[]),o["ɵmpd"](512,m,m,[]),o["ɵmpd"](256,rl.a,p,[])])})}});