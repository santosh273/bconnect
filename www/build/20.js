webpackJsonp([20],{679:function(l,n,e){"use strict";function u(l){return s["ɵvid"](0,[(l()(),s["ɵeld"](0,0,null,null,23,"ion-row",[["class","row"],["style","font-size: 12px;height: auto;background-color: beige;border-radius: 5px;margin: 2px"]],null,null,null,null,null)),s["ɵdid"](1,16384,null,0,N.a,[],null,null),(l()(),s["ɵted"](-1,null,["\n      "])),(l()(),s["ɵeld"](3,0,null,null,3,"ion-col",[["class","col"],["col-3",""]],null,null,null,null,null)),s["ɵdid"](4,278528,null,0,D.NgClass,[s.IterableDiffers,s.KeyValueDiffers,s.ElementRef,s.Renderer2],{ngClass:[0,"ngClass"]},null),s["ɵdid"](5,16384,null,0,P.a,[],null,null),(l()(),s["ɵted"](6,null,["",""])),(l()(),s["ɵted"](-1,null,["\n      "])),(l()(),s["ɵeld"](8,0,null,null,3,"ion-col",[["class","col"],["col-3",""]],null,null,null,null,null)),s["ɵdid"](9,278528,null,0,D.NgClass,[s.IterableDiffers,s.KeyValueDiffers,s.ElementRef,s.Renderer2],{ngClass:[0,"ngClass"]},null),s["ɵdid"](10,16384,null,0,P.a,[],null,null),(l()(),s["ɵted"](11,null,["",""])),(l()(),s["ɵted"](-1,null,["\n      "])),(l()(),s["ɵeld"](13,0,null,null,3,"ion-col",[["class","col"],["col-3",""]],null,null,null,null,null)),s["ɵdid"](14,278528,null,0,D.NgClass,[s.IterableDiffers,s.KeyValueDiffers,s.ElementRef,s.Renderer2],{ngClass:[0,"ngClass"]},null),s["ɵdid"](15,16384,null,0,P.a,[],null,null),(l()(),s["ɵted"](16,null,["",""])),(l()(),s["ɵted"](-1,null,["\n      "])),(l()(),s["ɵted"](-1,null,["\n      "])),(l()(),s["ɵeld"](19,0,null,null,3,"ion-col",[["class","col"],["col-3",""]],null,null,null,null,null)),s["ɵdid"](20,278528,null,0,D.NgClass,[s.IterableDiffers,s.KeyValueDiffers,s.ElementRef,s.Renderer2],{ngClass:[0,"ngClass"]},null),s["ɵdid"](21,16384,null,0,P.a,[],null,null),(l()(),s["ɵted"](22,null,["","\n      "])),(l()(),s["ɵted"](-1,null,["\n    "]))],function(l,n){l(n,4,0,"salesreturn"==n.parent.context.$implicit.pointsAdd?"salesreturn":"salesorder");l(n,9,0,"salesreturn"==n.parent.context.$implicit.pointsAdd?"salesreturn":"salesorder");l(n,14,0,"salesreturn"==n.parent.context.$implicit.pointsAdd?"salesreturn":"salesorder");l(n,20,0,"salesreturn"==n.parent.context.$implicit.pointsAdd?"salesreturn":"salesorder")},function(l,n){l(n,6,0,n.parent.context.$implicit.types);l(n,11,0,n.parent.context.$implicit.points);l(n,16,0,n.parent.context.$implicit.pointsAdd);l(n,22,0,n.parent.context.$implicit.creationDate)})}function t(l){return s["ɵvid"](0,[(l()(),s["ɵeld"](0,0,null,null,23,"ion-row",[["class","row"],["style","font-size: 12px;height: auto;background-color: beige;border-radius: 5px;margin: 2px"]],null,null,null,null,null)),s["ɵdid"](1,16384,null,0,N.a,[],null,null),(l()(),s["ɵted"](-1,null,["\n      "])),(l()(),s["ɵeld"](3,0,null,null,3,"ion-col",[["class","col"],["col-3",""]],null,null,null,null,null)),s["ɵdid"](4,278528,null,0,D.NgClass,[s.IterableDiffers,s.KeyValueDiffers,s.ElementRef,s.Renderer2],{ngClass:[0,"ngClass"]},null),s["ɵdid"](5,16384,null,0,P.a,[],null,null),(l()(),s["ɵted"](6,null,["",""])),(l()(),s["ɵted"](-1,null,["\n      "])),(l()(),s["ɵeld"](8,0,null,null,3,"ion-col",[["class","col"],["col-3",""]],null,null,null,null,null)),s["ɵdid"](9,278528,null,0,D.NgClass,[s.IterableDiffers,s.KeyValueDiffers,s.ElementRef,s.Renderer2],{ngClass:[0,"ngClass"]},null),s["ɵdid"](10,16384,null,0,P.a,[],null,null),(l()(),s["ɵted"](11,null,["",""])),(l()(),s["ɵted"](-1,null,["\n      "])),(l()(),s["ɵeld"](13,0,null,null,3,"ion-col",[["class","col"],["col-3",""]],null,null,null,null,null)),s["ɵdid"](14,278528,null,0,D.NgClass,[s.IterableDiffers,s.KeyValueDiffers,s.ElementRef,s.Renderer2],{ngClass:[0,"ngClass"]},null),s["ɵdid"](15,16384,null,0,P.a,[],null,null),(l()(),s["ɵted"](16,null,["",""])),(l()(),s["ɵted"](-1,null,["\n      "])),(l()(),s["ɵted"](-1,null,["\n      "])),(l()(),s["ɵeld"](19,0,null,null,3,"ion-col",[["class","col"],["col-3",""]],null,null,null,null,null)),s["ɵdid"](20,278528,null,0,D.NgClass,[s.IterableDiffers,s.KeyValueDiffers,s.ElementRef,s.Renderer2],{ngClass:[0,"ngClass"]},null),s["ɵdid"](21,16384,null,0,P.a,[],null,null),(l()(),s["ɵted"](22,null,["","\n      "])),(l()(),s["ɵted"](-1,null,["\n    "]))],function(l,n){l(n,4,0,"salesreturn"==n.parent.context.$implicit.pointsAdd?"salesreturn":"salesorder");l(n,9,0,"salesreturn"==n.parent.context.$implicit.pointsAdd?"salesreturn":"salesorder");l(n,14,0,"salesreturn"==n.parent.context.$implicit.pointsAdd?"salesreturn":"salesorder");l(n,20,0,"salesreturn"==n.parent.context.$implicit.pointsAdd?"salesreturn":"salesorder")},function(l,n){l(n,6,0,n.parent.context.$implicit.types);l(n,11,0,n.parent.context.$implicit.points);l(n,16,0,n.parent.context.$implicit.pointsAdd);l(n,22,0,n.parent.context.$implicit.creationDate)})}function o(l){return s["ɵvid"](0,[(l()(),s["ɵeld"](0,0,null,null,8,"ion-grid",[["class","grid"]],null,null,null,null,null)),s["ɵdid"](1,16384,null,0,I.a,[],null,null),(l()(),s["ɵted"](-1,null,["\n\n    "])),(l()(),s["ɵand"](16777216,null,null,1,null,u)),s["ɵdid"](4,16384,null,0,D.NgIf,[s.ViewContainerRef,s.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),s["ɵted"](-1,null,["\n    "])),(l()(),s["ɵand"](16777216,null,null,1,null,t)),s["ɵdid"](7,16384,null,0,D.NgIf,[s.ViewContainerRef,s.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),s["ɵted"](-1,null,["\n  "]))],function(l,n){l(n,4,0,1==n.context.$implicit.bbbb&&1==n.context.$implicit.bgpcheck);l(n,7,0,0==n.context.$implicit.bbbb)},null)}function d(l){return s["ɵvid"](0,[(l()(),s["ɵeld"](0,0,null,null,9,"div",[["style","margin: 6px"]],null,null,null,null,null)),(l()(),s["ɵted"](-1,null,["\n    "])),(l()(),s["ɵeld"](2,0,null,null,6,"ion-row",[["class","row"],["style","border-bottom: 1px solid"]],null,null,null,null,null)),s["ɵdid"](3,16384,null,0,N.a,[],null,null),(l()(),s["ɵted"](-1,null,["\n      "])),(l()(),s["ɵeld"](5,0,null,null,2,"ion-col",[["class","col"],["col-6",""],["style","font-size: 16px"]],null,null,null,null,null)),s["ɵdid"](6,16384,null,0,P.a,[],null,null),(l()(),s["ɵted"](7,null,["BGP Points: ",""])),(l()(),s["ɵted"](-1,null,["\n\n    "])),(l()(),s["ɵted"](-1,null,["\n  "]))],null,function(l,n){l(n,7,0,n.component.bgp)})}function i(l){return s["ɵvid"](0,[(l()(),s["ɵted"](-1,null,["\n"])),(l()(),s["ɵeld"](1,0,null,null,10,"ion-header",[],null,null,null,null,null)),s["ɵdid"](2,16384,null,0,w.a,[$.a,s.ElementRef,s.Renderer,[2,V.a]],null,null),(l()(),s["ɵted"](-1,null,["\n\n  "])),(l()(),s["ɵeld"](4,0,null,null,6,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,E.b,E.a)),s["ɵdid"](5,49152,null,0,F.a,[L.a,[2,V.a],[2,A.a],$.a,s.ElementRef,s.Renderer],null,null),(l()(),s["ɵted"](-1,3,["\n    "])),(l()(),s["ɵeld"](7,0,null,3,2,"ion-title",[],null,null,null,z.b,z.a)),s["ɵdid"](8,49152,null,0,k.a,[$.a,s.ElementRef,s.Renderer,[2,M.a],[2,F.a]],null,null),(l()(),s["ɵted"](-1,0,["Loyalty Points"])),(l()(),s["ɵted"](-1,3,["\n\n  "])),(l()(),s["ɵted"](-1,null,["\n\n"])),(l()(),s["ɵted"](-1,null,["\n\n\n"])),(l()(),s["ɵeld"](13,0,null,null,65,"ion-content",[["class","bg"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,K.b,K.a)),s["ɵdid"](14,4374528,null,0,T.a,[$.a,O.a,_.a,s.ElementRef,s.Renderer,L.a,q.a,s.NgZone,[2,V.a],[2,A.a]],null,null),(l()(),s["ɵted"](-1,1,["\n  "])),(l()(),s["ɵeld"](16,0,null,1,4,"div",[["text-center",""]],null,null,null,null,null)),(l()(),s["ɵted"](-1,null,["\n    "])),(l()(),s["ɵeld"](18,0,null,null,1,"p",[["style","font-size: 16px"]],null,null,null,null,null)),(l()(),s["ɵted"](-1,null,[" Loyalty Points "])),(l()(),s["ɵted"](-1,null,["\n  "])),(l()(),s["ɵted"](-1,1,["\n\n\n  "])),(l()(),s["ɵeld"](22,0,null,1,19,"ion-row",[["class","row"],["style","font-size: 12px;background-color: rgb(226, 228, 133)"]],null,null,null,null,null)),s["ɵdid"](23,16384,null,0,N.a,[],null,null),(l()(),s["ɵted"](-1,null,["\n    "])),(l()(),s["ɵeld"](25,0,null,null,2,"ion-col",[["class","col"],["col-3",""]],null,null,null,null,null)),s["ɵdid"](26,16384,null,0,P.a,[],null,null),(l()(),s["ɵted"](-1,null,[" Type "])),(l()(),s["ɵted"](-1,null,["\n    "])),(l()(),s["ɵeld"](29,0,null,null,2,"ion-col",[["class","col"],["col-3",""]],null,null,null,null,null)),s["ɵdid"](30,16384,null,0,P.a,[],null,null),(l()(),s["ɵted"](-1,null,[" Points "])),(l()(),s["ɵted"](-1,null,["\n    "])),(l()(),s["ɵeld"](33,0,null,null,2,"ion-col",[["class","col"],["col-3",""]],null,null,null,null,null)),s["ɵdid"](34,16384,null,0,P.a,[],null,null),(l()(),s["ɵted"](-1,null,[" Points Type "])),(l()(),s["ɵted"](-1,null,["\n    "])),(l()(),s["ɵted"](-1,null,["\n    "])),(l()(),s["ɵeld"](38,0,null,null,2,"ion-col",[["class","col"],["col-3",""]],null,null,null,null,null)),s["ɵdid"](39,16384,null,0,P.a,[],null,null),(l()(),s["ɵted"](-1,null,[" Date "])),(l()(),s["ɵted"](-1,null,["\n  "])),(l()(),s["ɵted"](-1,1,["\n\n  "])),(l()(),s["ɵand"](16777216,null,1,1,null,o)),s["ɵdid"](44,802816,null,0,D.NgForOf,[s.ViewContainerRef,s.TemplateRef,s.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),s["ɵted"](-1,1,["\n\n  "])),(l()(),s["ɵeld"](46,0,null,1,13,"div",[["style","margin: 6px"]],null,null,null,null,null)),(l()(),s["ɵted"](-1,null,["\n    "])),(l()(),s["ɵeld"](48,0,null,null,10,"ion-row",[["class","row"],["style","border-bottom: 1px solid"]],null,null,null,null,null)),s["ɵdid"](49,16384,null,0,N.a,[],null,null),(l()(),s["ɵted"](-1,null,["\n      "])),(l()(),s["ɵeld"](51,0,null,null,2,"ion-col",[["class","col"],["col-6",""],["style","font-size: 16px"]],null,null,null,null,null)),s["ɵdid"](52,16384,null,0,P.a,[],null,null),(l()(),s["ɵted"](53,null,["Total Points: ",""])),(l()(),s["ɵted"](-1,null,["\n      "])),(l()(),s["ɵeld"](55,0,null,null,2,"ion-col",[["class","col"],["col-6",""],["style","font-size: 16px;text-align: right;color: #3b5998"]],null,null,null,null,null)),s["ɵdid"](56,16384,null,0,P.a,[],null,null),(l()(),s["ɵted"](57,null,["Consumed Points : ",""])),(l()(),s["ɵted"](-1,null,["\n    "])),(l()(),s["ɵted"](-1,null,["\n  "])),(l()(),s["ɵted"](-1,1,["\n  "])),(l()(),s["ɵeld"](61,0,null,1,13,"div",[["style","margin: 6px"]],null,null,null,null,null)),(l()(),s["ɵted"](-1,null,["\n    "])),(l()(),s["ɵeld"](63,0,null,null,10,"ion-row",[["class","row"],["style","border-bottom: 1px solid"]],null,null,null,null,null)),s["ɵdid"](64,16384,null,0,N.a,[],null,null),(l()(),s["ɵted"](-1,null,["\n      "])),(l()(),s["ɵeld"](66,0,null,null,2,"ion-col",[["class","col"],["col-6",""],["style","font-size: 16px"]],null,null,null,null,null)),s["ɵdid"](67,16384,null,0,P.a,[],null,null),(l()(),s["ɵted"](68,null,["Available Points: ",""])),(l()(),s["ɵted"](-1,null,["\n      "])),(l()(),s["ɵeld"](70,0,null,null,2,"ion-col",[["class","col"],["col-6",""],["style","font-size: 16px;text-align: right;color: #3b5998"]],null,null,null,null,null)),s["ɵdid"](71,16384,null,0,P.a,[],null,null),(l()(),s["ɵted"](72,null,["Requested Points : ",""])),(l()(),s["ɵted"](-1,null,["\n    "])),(l()(),s["ɵted"](-1,null,["\n  "])),(l()(),s["ɵted"](-1,1,["\n\n  "])),(l()(),s["ɵand"](16777216,null,1,1,null,d)),s["ɵdid"](77,16384,null,0,D.NgIf,[s.ViewContainerRef,s.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),s["ɵted"](-1,1,["\n"]))],function(l,n){var e=n.component;l(n,44,0,e.points);l(n,77,0,1==e.bgpcheck)},function(l,n){var e=n.component;l(n,4,0,s["ɵnov"](n,5)._hidden,s["ɵnov"](n,5)._sbPadding);l(n,13,0,s["ɵnov"](n,14).statusbarPadding,s["ɵnov"](n,14)._hasRefresher);l(n,53,0,e.tpoints);l(n,57,0,e.consumed);l(n,68,0,e.available);l(n,72,0,e.requested)})}Object.defineProperty(n,"__esModule",{value:!0});var s=e(1),a=(e(0),e(32),e(44)),r=(e(118),e(79)),c=e(29),p=function(){function l(l,n,e,u,t){var o=this;this.loadingCtrl=l,this.nativeStorage=n,this.http=e,this.navCtrl=u,this.navParams=t,this.bgpcheck=0,this.nativeStorage.getItem("profile").then(function(l){console.log("URID from page dashoard"+l),o.user=l,o.code=o.user[0].customerNo,console.log("userName:"+o.user[0].firstName+o.user[0].lastName),o.getPoints()},function(l){return console.error(l)})}return l.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad LoylityPointsPage")},l.prototype.getPoints=function(){var l=this,n=this.loadingCtrl.create({spinner:"dots"});n.present();var e=0,u=0;this.http.get(r.a.URL+"getcustomerpoints/"+this.code).map(function(l){return l.json()}).subscribe(function(t){console.log(r.a.URL+"getcustomerpoints/"+l.code),n.dismiss();var o=JSON.parse(t);l.points=o;for(var d=0,i=l.points;d<i.length;d++){var s=i[d];l.totalPoints=s.totalpoints,l.bgpcheck=s.bgpcheck,"BGP"!=s.labels?e+=Number(s.updated):u+=Number(s.updated),l.requested=Number(s.requestedpoints),l.consumed=Number(s.consumedpoints),l.available=Number(s.availablepointstotal),console.log(l.totalPoints)}console.log("updated "+e),l.tpoints=e,l.bgp=u,console.log(o)},function(l){n.dismiss(),alert(l),console.log(l)})},l}(),f=function(){return function(){}}(),g=e(213),m=e(214),b=e(215),y=e(216),R=e(217),x=e(218),v=e(219),C=e(220),h=e(221),N=e(71),D=e(14),P=e(72),I=e(80),w=e(53),$=e(3),V=e(7),E=e(70),F=e(36),L=e(8),A=e(20),z=e(163),k=e(73),M=e(38),K=e(52),T=e(25),O=e(5),_=e(9),q=e(24),B=e(62),S=e(15),U=s["ɵcrt"]({encapsulation:2,styles:[],data:{}}),j=s["ɵccf"]("page-loylity-points",p,function(l){return s["ɵvid"](0,[(l()(),s["ɵeld"](0,0,null,null,1,"page-loylity-points",[],null,null,null,i,U)),s["ɵdid"](1,49152,null,0,p,[B.a,c.a,a.a,A.a,S.a],null,null)],null,null)},{},{},[]),G=e(19),J=e(162),Z=e(61);e.d(n,"LoylityPointsPageModuleNgFactory",function(){return H});var H=s["ɵcmf"](f,[],function(l){return s["ɵmod"]([s["ɵmpd"](512,s.ComponentFactoryResolver,s["ɵCodegenComponentFactoryResolver"],[[8,[g.a,m.a,b.a,y.a,R.a,x.a,v.a,C.a,h.a,j]],[3,s.ComponentFactoryResolver],s.NgModuleRef]),s["ɵmpd"](4608,D.NgLocalization,D.NgLocaleLocalization,[s.LOCALE_ID,[2,D["ɵa"]]]),s["ɵmpd"](4608,G["ɵi"],G["ɵi"],[]),s["ɵmpd"](4608,G.FormBuilder,G.FormBuilder,[]),s["ɵmpd"](512,D.CommonModule,D.CommonModule,[]),s["ɵmpd"](512,G["ɵba"],G["ɵba"],[]),s["ɵmpd"](512,G.FormsModule,G.FormsModule,[]),s["ɵmpd"](512,G.ReactiveFormsModule,G.ReactiveFormsModule,[]),s["ɵmpd"](512,J.a,J.a,[]),s["ɵmpd"](512,J.b,J.b,[]),s["ɵmpd"](512,f,f,[]),s["ɵmpd"](256,Z.a,p,[])])})}});